\documentclass[10pt, a4paper, onecolumn, openany]{book} % openany make chapter start whenever, DELETE in OFFICIAL

% PACKAGES:
% Font Encoding
\usepackage[utf8]{inputenc}     % Use UTF-8
\usepackage[T1]{fontenc}        % T1 font encoding (latin characters)
% Header
\usepackage{fancyhdr}           % fancy page header options
\usepackage{titlesec}           % used to have \thechapter in same line as \chaptertitlename
% MISC
\usepackage{hyperref}           % \url{}
\usepackage{xurl}
\usepackage{graphicx}           % images
\usepackage{xcolor}            % colors
\usepackage{fancyvrb}          % colors in Verbatin, header: \begin{Verbatim}[commandchars=\\\{\}]

% DECORATIVE LINES + CHAPTER IN SAME LINE:
\renewcommand{\headrulewidth}{2pt}  % Top decorative line
\renewcommand{\footrulewidth}{2pt}  % Bottom decorative line
\pagestyle{fancy}                   % better header for normal pages, not only chapter ones
\fancyhf{}                          % clear header and adjust as wanted:
    \chead{\leftmark}               % header
    \cfoot{Page \thepage}           % footer
\fancypagestyle{plain}{
\fancyhf{}
    \chead{\leftmark}       % header
    \cfoot{Page \thepage}   % footer
}
\renewcommand{\chaptername}{}       % change word chapter to {}
\titleformat{\chapter}[hang]{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter.}{1em}{} % Chapter in same line as chapter name

% SIZES OF SECTIONS:
\titleformat*{\section}{\LARGE\bfseries}
\titleformat*{\subsection}{\Large\bfseries}
\titleformat*{\subsubsection}{\large\bfseries}

% DISABLE huge space after (paragraph indent) section name before text starts:
\setlength{\parindent}{0pt}

% COLOR EXAMPLES:
% \definecolor{MyColor}{RGB}{219, 48, 122}  % define
% \textcolor{MyColor}{Some random text}     % usage in document
\definecolor{root}{RGB}{222, 0, 0}
\definecolor{user}{RGB}{0, 150, 00}
\definecolor{dir}{RGB}{0, 100, 200}
\definecolor{file}{RGB}{77, 187, 101}
\definecolor{block}{RGB}{255, 80, 0}
\definecolor{command}{RGB}{41, 182, 0}
\definecolor{comment}{RGB}{0, 182, 182}
\definecolor{background}{RGB}{240, 240, 240}

% COLORS FOR CODE in document:
%\begin{minted}[frame=lines,framesep=2mm,baselinestretch=1.2,fontsize=\footnotesize,linenos]{js}
%\end{minted}

% IMAGES:
\graphicspath{./images/} % define directory
% \includegraphics[scale=1.5]{./images/random_image.png} % usage in document

% TABLE:
% \begin{center}
%    \begin{small}
%    \begin{tabular}{|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|}
%    \hline
%    + & - & * & / & \% & ** & () \\
%    \hline
%    1 & 2 & 3 & 4 & 5 & 6 & 7 \\
%    \hline
%    \end{tabular}
%    \end{small}
%\end{center}

%\titlespacing*{\section}{0pt}{1.5cm}{0.2cm}
%\titlespacing*{\subsection}{0pt}{0.2cm}{0.2cm}

% colored verbatim BG:
%\let\oldv\verbatim
%\let\oldendv\endverbatim
%\def\verbatim{\par\setbox0\vbox\bgroup\oldv}
%\def\endverbatim{\oldendv\egroup\fboxsep0pt \noindent\colorbox[gray]{0.9}{\usebox0}\par}
% colored Verbatim BG (supported colors: https://linuxhint.com/change-text-colors-latex/):
\renewcommand{\FancyVerbFormatLine}[1]{\colorbox{background}{#1}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% TITLE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title{\textbf{Arch Linux}}
\author{AISK}
\date{January, 2022}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% START %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\maketitle
%\clearpage % official blank page
\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Flash USB %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Flash USB}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Download Arch ISO}
\begin{enumerate}
    \item \textbf{Download Arch ISO from:}
\newline \underline{\href{https://archlinux.org/download/}{https://archlinux.org/download/}}
    \item \textbf{Verify Download:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{sha1sum} <\textcolor{file}{archlinux-YYYY.MM.DD-x86_64.iso}>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{USB Preparation}
\begin{enumerate}
    \item \textbf{Unmount FS!}
    \item \textbf{Create Partition Table}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{parted} -s <\textcolor{block}{/dev/sdX}> mktable gpt
\end{Verbatim}
    \item \textbf{Print change:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{parted} <\textcolor{block}{/dev/sdX}> (p)rint [free]
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Flash ISO to USB}
\begin{enumerate}
    \item \textbf{Unmount FS!}
    \item \textbf{Flash to USB (/dev/sdX):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{dd} if=<\textcolor{file}{./archlinux-YYYY.MM.DD-x86_64.iso}> of=<\textcolor{block}{/dev/sdX}>
[bs=4M | status=progress]
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Boot Live Installer}
\subsection{Secure Boot}
Make sure, that Secure Boot is Disabled!
\begin{enumerate}
    \item \textbf{During POST press Key to access BIOS/UEFI:}
\newline \underline{\href{https://techofide.com/blogs/boot-menu-option-keys-for-all-computers-and-laptops-updated-list-2021-techofide/}{BIOS/UEFI Menu Keys For All Vendors}}
    \item \textbf{Disable Secure Boot}
    \item \textbf{Poweroff/Restart}
\end{enumerate}
\subsection{Boot}
\begin{enumerate}
    \item \textbf{Plug in Flashed USB}
    \item \textbf{During POST press Key to access Boot Menu:}
\newline \underline{\href{https://techofide.com/blogs/boot-menu-option-keys-for-all-computers-and-laptops-updated-list-2021-techofide/}{Boot Menu Keys For All Vendors}}
    \item \textbf{Select USB entry.}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Pre-Installation %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Pre-Installation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Check Disk for bad sectors}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Theory}
\begin{itemize}
    \item \textbf{Sector:} smallest unit size on disk. Usually 512 bytes, but some hard disks have 4096.
    \item \textbf{Block:} Allocation size the FS uses. Cannot be smaller than size of the sector. Can be group of sectors (4096b: 8 x 512b sectors).
    \begin{itemize}
        \item \textbf{512b =} good for lot of small files. More blocks = more metadata.
        \item \textbf{4096b =}  good for larger files, less metadata. Waste if there are mostly small files.
    \end{itemize}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Disk Info gathering}
\label{disk_info_gathering}
\begin{itemize}
    \item \textbf{Find disks (block devices):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{lsblk} [-ap | -apf]
\textcolor{root}{root#} \textcolor{command}{fdisk -l} [\textcolor{block}{/dev/sdX}]
\textcolor{root}{root#} \textcolor{command}{gdisk -l} <\textcolor{block}{/dev/sdX}>
\textcolor{root}{root#} \textcolor{command}{blkid}
\end{Verbatim}
    \item \textbf{Get raw disk info:}
    \begin{itemize}
        \item \textbf{Disk size in bytes:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{blockdev} [-v] --getsize64 <\textcolor{block}{/dev/sdX[Y]}>
\end{Verbatim}
    \item \textbf{Disk block size in bytes:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{blockdev} [-v] --getbsz <\textcolor{block}{/dev/sdX[Y]}>
\end{Verbatim}
    \item \textbf{Check if disk is readonly (1 = ro, 0 = rw):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{blockdev} [-v] --getro <\textcolor{block}{/dev/sdX[Y]}>
\end{Verbatim}
    \end{itemize}
    \item \textbf{See partitions:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{parted} <\textcolor{block}{/dev/sdX}> (p)rint [free]
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Check Disk for bad sectors}
\begin{enumerate}
    \item \textbf{Unmount FS!}
    \item \textbf{Check disk for bad blocks:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{badblocks} [-b 4096] [-w [-t 0xaa]] [-v] [-s]
<\textcolor{block}{/dev/sdX[Y]}> | \textcolor{command}{tee} -a <\textcolor{file}{OUTPUT_FILE}>
\end{Verbatim}
\end{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Installation %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Installation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{ISO specific}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Remove pcspkr}
\begin{itemize}
    \item \textbf{Remove pcspkr module:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{modprobe} -r pcspkr
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Connect to Internet}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Ethernet:}
\begin{enumerate}
    \item \textbf{Connect to internet:}
    \begin{itemize}
        \item \textbf{DHCP:}
 \begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{dhcpcd} <ethX>
\end{Verbatim}
        \item \textbf{Static IPv4:}
        \begin{enumerate}
            \item \textbf{Turn down interface:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{ip} l set <ethX> down
\end{Verbatim}
            \item \textbf{Assign static IP address:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{ip} a add <IPv4_ADDRESS>/<SUBNET_MASK> dev <ethX>
\end{Verbatim}
            \item \textbf{Set default gateway:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{ip} r add default via <GAEWAY_IPv4>
\end{Verbatim}
            \item \textbf{Set DNS:}
\newline File (\textbf{\textcolor{file}{/etc/resolv.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
nameserver 1.1.1.1
\end{Verbatim}
            \item \textbf{Turn up interface:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{ip} l set <ethX> up
\end{Verbatim}
        \end{enumerate}
    \end{itemize}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{WiFi:}
\begin{enumerate}
    \item \textbf{Enable WiFi:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{rfkill} unblock wlan
\end{Verbatim}
    \item \textbf{Start services:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} start wpa\_supplicant.service dhcpcd.service
\end{Verbatim}
    \item \textbf{Configure WiFi:}
\newline File (\textbf{\textcolor{file}{/etc/wpa\_supplicant/wpa\_supplicant.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
ctrl_interface=/run/wpa_supplicant
update_config=1
country=<2-LETTER-ISO-CODE>

\textcolor{comment}{# WPA-PSK protected:}
network=\{
    ssid="<ESSID>"
    scan_ssid=1 \textcolor{comment}{# Find hidden network}
    key_mgmt=WPA-PSK
    {psk="<PLAINTEXT-PASSWD>"}
    \textcolor{comment}{#psk=<32byte-HEX-NUMBER>}
    priority=1 \textcolor{comment}{# To which WiFi connect first}
\}

\textcolor{comment}{# WPA-EAP protected::}
network=\{
        ssid="<ESSID>"
        scan_ssid=1 \textcolor{comment}{# Find hidden network}
        key_mgmt=WPA-EAP
        \textcolor{comment}{#eap=PEAP}
        identity="<USERNAME>@<DOMAIN>"
        password="<PLAINTEXT-PASSWD>"
        \textcolor{comment}{#psk=<32byte-HEX-NUMBER>}
        \textcolor{comment}{#ca_cert="/etc/cert/ca.pem"}
        \textcolor{comment}{#phase1="peaplabel=0"}
        phase2="auth=MSCHAPV2"
        priority=2 \textcolor{comment}{# To which WiFi connect first}
\}

\textcolor{comment}{# Unprotected:}
network=\{
    ssid="<ESSID>"
    scan_ssid=1 \textcolor{comment}{# Find hidden network}
    key_mgmt=NONE
    priority=3 \textcolor{comment}{# To which WiFi connect first}
\}
\end{Verbatim}

    \item \textbf{Connect to WiFi:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{wpa_supplicant} -B -D wext -i <wlan0>
-c <\textcolor{file}{/etc/wpa_supplicant/wpa_supplicant.conf}>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Disk Partitioning}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{GPT BIOS/UEFI + Encrypted LVM w boot}
\begin{itemize}
    \item \textbf{Disk Layout:}
\begin{Verbatim}[commandchars=\\\{\}]
+-----------+------------+---------------+------------+-----------+
| PARTITION |    SIZE    |  FILESYSTEM   | MOUNTPOINT |   FLAGS   |
+-----------+------------+---------------+------------+-----------+
| \textcolor{block}{/dev/sdX1} |      1 MiB |          NONE |       NONE | bios_grub |
+-----------+------------+---------------+------------+-----------+
| \textcolor{block}{/dev/sdX2} |    512 MiB |         FAT32 |       \textcolor{dir}{/efi} | boot, esp |
+-----------+------------+---------------+------------+-----------+
| \textcolor{block}{/dev/sdX3} |  100\% FREE | crypto_LUKS 1 |       NONE |      NONE |
+-----------+------------+---------------+------------+-----------+
\end{Verbatim}

\end{itemize}
\begin{enumerate}
    \item \textbf{Get info about disks:}
\newline See section \underline{\textbf{\ref{disk_info_gathering}}}.

    \item \textbf{Create GPT Partition Table:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{parted} -s <\textcolor{block}{/dev/sdX}> mktable gpt
\end{Verbatim}

    \item \textbf{Create partitions:}
    \begin{enumerate}
        \item \textbf{Enter cfdisk:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{cfdisk} <\textcolor{block}{/dev/sdX}>
\end{Verbatim}
        \item \textbf{BIOS partition - store 2nd stage of BIOS bootloader (1 MiB):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{cfdisk>} \textcolor{command}{n}
\textcolor{root}{cfdisk>} \textcolor{command}{1MiB}
\textcolor{root}{cfdisk>} \textcolor{command}{t}
\textcolor{root}{cfdisk>} \textcolor{command}{BIOS boot}
\end{Verbatim}
        \item \textbf{EFI partition (max 512 MiB):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{cfdisk>} \textcolor{command}{n}
\textcolor{root}{cfdisk>} \textcolor{command}{512MiB}
\textcolor{root}{cfdisk>} \textcolor{command}{t}
\textcolor{root}{cfdisk>} \textcolor{command}{EFI System}
\end{Verbatim}
        \item \textbf{Encrypted partition:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{cfdisk>} \textcolor{command}{n}
\textcolor{root}{cfdisk>} \textcolor{command}{ } (Enter)
\end{Verbatim}
        \item \textbf{Write Changes:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{cfdisk>} \textcolor{command}{W}
\textcolor{root}{cfdisk>} \textcolor{command}{yes}
\end{Verbatim}
        \item \textbf{Quit cfdisk:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{cfdisk>} \textcolor{command}{Q}
\end{Verbatim}
        \item \textbf{Name partitions:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{parted} -s <\textcolor{block}{/dev/sdX}> name 1 GRUB_BIOS
\textcolor{root}{root#} \textcolor{command}{parted} -s <\textcolor{block}{/dev/sdX}> name 2 ESP
\textcolor{root}{root#} \textcolor{command}{parted} -s <\textcolor{block}{/dev/sdX}> name 3 LUKS
\end{Verbatim}
    \end{enumerate}

    \item \textbf{Format Partitions:}
        \begin{enumerate}
            \item \textbf{BIOS partition:}
\newline There is no filesystem.
            \item \textbf{EFI partition:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mkfs.fat} -F 32 <\textcolor{block}{/dev/sdX2}>
\textcolor{root}{root#} \textcolor{command}{fatlabel} <\textcolor{block}{/dev/sdX2}> <ESP>
\end{Verbatim}
            \item \textbf{Encrypted partition:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{cryptsetup} luksFormat --type luks1 <\textcolor{block}{/dev/sdX3}>
> YES
> <PASSWORD>
> <PASSWORD (VERIFY)>
\end{Verbatim}
        \end{enumerate}

    \item \textbf{OPTIONAL LUKS stuff:}
    \begin{itemize}
        \item \textbf{Open LUKS:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{cryptsetup} open --type luks <\textcolor{block}{/dev/sdX3}> <luks>
> <PASSWORD>
\end{Verbatim}
        \item \textbf{Close LUKS:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{cryptsetup} close <luks>
\end{Verbatim}
\item \textbf{LUKS header:}
        \begin{enumerate}
            \item \textbf{See LUKS header:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{cryptsetup} luksDump <\textcolor{block}{/dev/sdX2}>
\end{Verbatim}
            \item \textbf{Make LUKS header backup:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{cryptsetup} luksHeaderBackup <\textcolor{block}{/dev/sdX2}>
--header-backup-file <\textcolor{file}{FILE}>
\end{Verbatim}
            \item \textbf{Destroy LUKS header :}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{cryptsetup} luksErase <\textcolor{block}{/dev/sdX2}>
\end{Verbatim}
            \item \textbf{restore LUKS header:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{cryptsetup} luksHeaderRestore <\textcolor{block}{/dev/sdX2}>
--header-backup-file <\textcolor{file}{FILE}>
\end{Verbatim}
        \end{enumerate}
    \end{itemize}

    \item \textbf{Create LVM partition:}
    \begin{enumerate}
        \item \textbf{Open Encrypted partition:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{cryptsetup} open --type luks <\textcolor{block}{/dev/sdX3}> <luks_lvm>
> <PASSWORD>
\end{Verbatim}
        \item \textbf{Create Physical Volume to be used by LVM Volume Group:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{lvm} pvcreate <\textcolor{block}{/dev/mapper/luks_lvm}>
\end{Verbatim}
        \item \textbf{Create LVM Volume Group \textit{vg0}:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{lvm} vgcreate <vg0> <\textcolor{block}{/dev/mapper/luks_lvm}>
\end{Verbatim}
        \item \textbf{Create Logical Volumes:}
            \begin{enumerate}
                \item \textbf{Boot partition (512 MiB):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{lvm} lvcreate -L 512MiB -n boot <vg0>
\end{Verbatim}
                \item \textbf{Root partition (rest of the disk):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{lvm} lvcreate -l 100\%FREE -n root <vg0>
\end{Verbatim}
            \end{enumerate}

    \item \textbf{Show LVM stuff:}
    \begin{itemize}
        \item \textbf{Physical Volumes:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{lvm} pvdisplay
\end{Verbatim}
        \item \textbf{Volume Groups:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{lvm} vgdisplay [vg0]
\end{Verbatim}
        \item \textbf{Logical Volumes:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{lvm} lvdisplay
\end{Verbatim}
        \end{itemize}
    \end{enumerate}

    \item \textbf{Format LVM volumes:}
    \begin{enumerate}
        \item \textbf{Boot Partition:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mkfs.ext4} <\textcolor{block}{/dev/vg0/boot}>
\textcolor{root}{root#} \textcolor{command}{e2label} <\textcolor{block}{/dev/vg0/boot}> <LVM_BOOT>
\end{Verbatim}
        \item \textbf{Root Partition:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mkfs.ext4} <\textcolor{block}{/dev/vg0/root}>
\textcolor{root}{root#} \textcolor{command}{e2label} <\textcolor{block}{/dev/vg0/root}> <LVM_ROOT>
\end{Verbatim}
    \end{enumerate}

\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Mount FS}
\label{mount_fs}
\begin{enumerate}
    \item \textbf{Mount Root filesystem:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mount} <\textcolor{block}{/dev/vg0/root}> <\textcolor{dir}{/mnt/}>
\end{Verbatim}

    \item \textbf{Create boot dir:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mkdir} <\textcolor{dir}{/mnt/boot/}>
\end{Verbatim}

    \item \textbf{Mount boot partition:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mount} <\textcolor{block}{/dev/vg0/boot}> <\textcolor{dir}{/mnt/boot/}>
\end{Verbatim}

    \item \textbf{Create efi dir:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mkdir} <\textcolor{dir}{/mnt/efi/}>
\end{Verbatim}

    \item \textbf{Mount efi partition:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mount} <\textcolor{block}{/dev/sdX2}> <\textcolor{dir}{/mnt/efi/}>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Install Arch}
\begin{enumerate}
    \item \textbf{Check Mirrors:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{cat} \textcolor{file}{/etc/pacman.d/mirrorlist}
\end{Verbatim}

    \item \textbf{Download Arch:}
\newline This installs BASE packages, LINUX kernel and common LINUX-FIRMWARE for common hardware:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{pacstrap} <\textcolor{dir}{/mnt/}> base linux [linux-firmware]
\end{Verbatim}

    \item \textbf{Generate fstab:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{genfstab} -U <\textcolor{dir}{/mnt/}> >> \textcolor{file}{/mnt/etc/fstab}
\end{Verbatim}

    \item \textbf{Chroot into arch:}
    \begin{enumerate}
        \item \textbf{Mount filesystems:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mount} -t proc \textcolor{dir}{/proc/} <\textcolor{dir}{/mnt/proc/}>
\textcolor{root}{root#} \textcolor{command}{mount} --rbind \textcolor{dir}{/sys/} <\textcolor{dir}{/mnt/sys/}>
\textcolor{root}{root#} \textcolor{command}{mount} --make-rslave <\textcolor{dir}{/mnt/sys/}>
\textcolor{root}{root#} \textcolor{command}{mount} --rbind \textcolor{dir}{/dev/} <\textcolor{dir}{/mnt/dev/}>
\textcolor{root}{root#} \textcolor{command}{mount} --make-rslave <\textcolor{dir}{/mnt/dev/}>
\end{Verbatim}
        \item \textbf{Chroot to root filesystem:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{chroot} <\textcolor{dir}{/mnt/}> \textcolor{file}{/bin/bash}
\end{Verbatim}
    \end{enumerate}

    \item \textbf{Set up DNS for chrooted environment:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{echo} "nameserver 1.1.1.1" > \textcolor{dir}{/etc/resolv.conf}
\end{Verbatim}

    \item \textbf{Install packages:}
    \begin{itemize}
        \item \textbf{Install LVM support:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S lvm2
\end{Verbatim}
        \item \textbf{Install vim:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S vim
\end{Verbatim}
    \end{itemize}

    \item \textbf{Add encrypted support to mkinitcpio:}
\newline File (\textbf{\textcolor{file}{/etc/mkinitcpio.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
HOOKS=(base udev autodetect modconf block \textcolor{file}{keyboard} \textcolor{file}{keymap}
\textcolor{file}{consolefont} \textcolor{file}{encrypt} \textcolor{file}{lvm2} filesystems fsck)
...
\end{Verbatim}

    \item \textbf{Recreate initramfs with encrypted support:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{mkinitcpio} -P
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Customize settings}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Time}
\begin{enumerate}
    \item \textbf{Select timezone:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{ln} -sf <\textcolor{file}{/usr/share/zoneinfo/Europe/Copenhagen}>
\textcolor{file}{/etc/localtime}
\end{Verbatim}
        \item \textbf{Update HW clock (generate: /etc/adjtime):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{hwclock} --systohc
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Locales}
    \begin{enumerate}
        \item \textbf{Select locales:}
\newline File (\textbf{\textcolor{file}{/etc/locale.gen}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
en_US.UTF-8 UTF-8
en_US ISO-8859-1
...
\end{Verbatim}
        \item \textbf{Generate locales:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{locale-gen}
\end{Verbatim}
        \item \textbf{Set language:}
\newline File (\textbf{\textcolor{file}{/etc/locale.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
LANG=en_US.UTF-8
\end{Verbatim}
        \item \textbf{Set keyboard:}
\newline File (\textbf{\textcolor{file}{/etc/vconsole.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
KEYMAP=us
\end{Verbatim}
    \end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Network}
        \begin{enumerate}
            \item \textbf{Set hostname:}
\newline File (\textbf{\textcolor{file}{/etc/hostname}}):
\begin{Verbatim}[commandchars=\\\{\}]
<HOSTNAME>
\end{Verbatim}
            \item \textbf{Install network packages:}
            \begin{itemize}
                \item \textbf{Install WiFi control:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S wpa_supplicant
\end{Verbatim}
                \item \textbf{Install DHCP client:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S dhcpcd
\end{Verbatim}
            \end{itemize}

    \end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Install bootloader}
\begin{enumerate}
    \item \textbf{Download packages:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S efibootmgr grub
\end{Verbatim}

    \item \textbf{Find UUID of encrypted luks fs:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{blkid} | \textcolor{command}{grep} "crypto_LUKS"
\end{Verbatim}

    \item \textbf{Edit GRUB config for encryption:}
\newline File (\textbf{\textcolor{file}{/etc/default/grub}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
GRUB_CMDLINE_LINUX="cryptdevice=UUID=<UUID>:<luks_lvm> \char92
root=</dev/vg0/root>"
...
GRUB_ENABLE_CRYPTODISK=y
...
\end{Verbatim}

    \item \textbf{Make sure EFI partition is mounted!}
\newline See section \underline{\textbf{\ref{mount_fs}}}.

    \item \textbf{Install GRUB for UEFI:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{grub-install} --target=x86_64-efi --efi-directory=<\textcolor{dir}{/efi/}>
[--bootloader-id=<Arch_UEFI>] --recheck [--removable]
\end{Verbatim}

    \item \textbf{Make sure BOOT partition is mounted!}
\newline See section \underline{\textbf{\ref{mount_fs}}}.

    \item \textbf{Install GRUB for BIOS:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{grub-install} --target=i386-pc [--boot-directory=<\textcolor{dir}{/boot/}>]
[--bootloader-id=<Arch_BIOS>] --recheck <\textcolor{block}{/dev/sdX}>
\end{Verbatim}

    \item \textbf{Make/Update GRUB config file:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{grub-mkconfig} -o \textcolor{file}{/boot/grub/grub.cfg}
\end{Verbatim}

    \item \textbf{Avoid entering password twice:}
    \begin{enumerate}
        \item \textbf{Create LUKS key:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{mkdir} <\textcolor{dir}{/root/.luks/}>
\textcolor{root}{[root#]} \textcolor{command}{dd} bs=512 count=4 if=<\textcolor{block}{/dev/random}> of=<\textcolor{file}{/root/.luks/key}>
iflag=fullblock
\textcolor{root}{[root#]} \textcolor{command}{chmod} 0000 <\textcolor{file}{/root/.luks/key}>
\textcolor{root}{[root#]} \textcolor{command}{cryptsetup} -v luksAddKey <\textcolor{block}{/dev/sdX3}> <\textcolor{file}{/root/.luks/key}>
\end{Verbatim}
    \item \textbf{Add LUKS key to initramfs image:}
\newline File (\textbf{\textcolor{file}{/etc/mkinitcpio.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
FILES=(/root/.luks/key)
...
\end{Verbatim}
    \item \textbf{Recreate initramfs image:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{mkinitcpio} -P
\end{Verbatim}
    \item \textbf{Set initramfs files privileges:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{chmod} 0600 \textcolor{file}{/boot/initramfs-linux*}
\end{Verbatim}
    \item \textbf{Add GRUB parameter to unlock LUKS using encrypt hook:}
\newline File (\textbf{\textcolor{file}{/etc/default/grub}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
GRUB_CMDLINE_LINUX="cryptdevice=UUID=<UUID>:<luks_lvm> \char92
root=</dev/vg0/root> \textcolor{file}{cryptkey=rootfs:/root/.luks/key}"
...
GRUB_ENABLE_CRYPTODISK=y
...
\end{Verbatim}
    \item \textbf{Make/Update GRUB config file:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{grub-mkconfig} -o \textcolor{file}{/boot/grub/grub.cfg}
\end{Verbatim}
    \end{enumerate}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Finish installation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Root Password}
\begin{enumerate}
    \item \textbf{Create root password:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{passwd} root
> <PASSWORD>
> <PASSWORD-VERIFY>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Finish installation}
\begin{enumerate}
    \item \textbf{Exit chroot:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{[root#]} \textcolor{command}{exit}
\end{Verbatim}
    \item \textbf{Umount disk partitions:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{umount} -R <\textcolor{dir}{/mnt/}>
\end{Verbatim}
    \item \textbf{Reboot:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{poweroff}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Post-Installation %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Post-Installation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Disable pcspkr module}
\begin{enumerate}
    \item \textbf{Blacklist pcspkr module:}
\newline File (\textbf{\textcolor{file}{/etc/modprobe.d/blacklist.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
blacklist pcspkr
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Install CPU microcode}
\begin{enumerate}
    \item \textbf{Install microcode:}
    \begin{itemize}
        \item \textbf{Intel CPU:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S intel-ucode
\end{Verbatim}
        \item \textbf{AMD CPU:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S amd-ucode
\end{Verbatim}
    \end{itemize}
    \item \textbf{Reconfigure GRUB to apply change:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{grub-mkconfig} -o <\textcolor{file}{/boot/grub/grub.cfg}>
\end{Verbatim}
    \item \textbf{Reboot:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{reboot}
\end{Verbatim}
    \item \textbf{Verify, that microcode is working:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{dmesg} | \textcolor{command}{grep} "microcode"
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Create SWAP file}
\underline{\href{https://chrisdown.name/2018/01/02/in-defence-of-swap.html}{https://chrisdown.name/2018/01/02/in-defence-of-swap.html}}
\begin{enumerate}
    \item \textbf{Allocate size for swap file:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{fallocate} -l <2GB> \textcolor{file}{/swap}
\end{Verbatim}
        \item \textbf{Set permissions for swap file:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{chmod} 0600 \textcolor{file}{/swap}
\end{Verbatim}
    \item \textbf{Make swap file:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mkswap} \textcolor{file}{/swap}
\end{Verbatim}
    \item \textbf{Activate swap file:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{swapon} \textcolor{file}{/swap}
\end{Verbatim}
    \item \textbf{Add swap file to fstab:}
\newline File (\textbf{\textcolor{file}{/etc/fstab}}:)
\begin{Verbatim}[commandchars=\\\{\}]
...
\textcolor{comment}{## Swap:}
/swap   none    swap    sw    0 0
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Improve EXT4 performance}
\begin{enumerate}
    \item \textbf{Add parameters to ext4:}
    \begin{itemize}
        \item Do not update atime for files (applies also nodiratime).
        \item Change journal commiting from default 5 seconds to 60.
    \end{itemize}
File (\textbf{\textcolor{file}{/etc/fstab}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
UUID=<UUID> <MOUNT_POINT> <ext4> <defaults>\textcolor{command}{,noatime,commit=60} <FSCK>
...
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Create admin group (doas)}
\begin{enumerate}
    \item \textbf{Set up privilege escalation:}
    \begin{enumerate}
        \item \textbf{Install:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S doas
\end{Verbatim}
        \item \textbf{Create group for privilege escalation:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{groupadd} <doas>
\end{Verbatim}
        \item \textbf{Create privilege rules for \textit{doas} group:}
\newline File (\textbf{\textcolor{file}{/etc/doas.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## <permit|deny> [nopass|persist] [USER]:[GROUP] [as <USER2>]}
\textcolor{comment}{[cmd <COMMAND> [args <ARGUMENTS>]}
permit [nopass] :<doas>
\end{Verbatim}
    \item \textbf{Create symlink for apps that needs sudo:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{ln} -sf \textcolor{file}{/usr/bin/doas} \textcolor{file}{/usr/bin/sudo}
\end{Verbatim}
    \end{enumerate}

\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Create admin user (doas)}
\begin{enumerate}
    \item \textbf{Create user with home directory:}
    \begin{enumerate}
        \item \textbf{Create user with home directory:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{useradd} -m [-s <\textcolor{file}{/bin/bash}>] <USER>
\end{Verbatim}
        \item \textbf{Add user to admin \textit{doas} group:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{usermod} -aG <doas> <USER>
\end{Verbatim}
        \item \textbf{Create password for this user:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{passwd} <USER>
\end{Verbatim}
    \end{enumerate}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Package Manager %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Package Manager}
\underline{\href{https://wiki.archlinux.org/title/Pacman/Rosetta}{https://wiki.archlinux.org/title/Pacman/Rosetta}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Settings}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Select mirrors}
\begin{itemize}
    \item \textbf{Select Mirrors:}
\newline File (\textbf{\textcolor{file}{/etc/pacman.d/mirrorlist}}).
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Configure pacman}
\begin{itemize}
    \item \textbf{Select Mirrors:}
\newline File (\textbf{\textcolor{file}{/etc/pacman.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
\textcolor{comment}{### Ignore during update:}
\textcolor{comment}{## Ignore package from being updated:}
#IgnorePkg=<PKG> [PKG2]
\textcolor{comment}{## Do not touch file when upgrading:}
#NoUpgrade=</PATH/TO/FILE> [/PATH/TO/FILE2]

\textcolor{comment}{###  Misc:}
\textcolor{comment}{## Allow colors:}
Color
\textcolor{comment}{## Check for available disk space:}
CheckSpace
\textcolor{comment}{## Verbose info for download and update:}
VerbosePkgLists
\textcolor{comment}{## Easter egg:}
ILoveCandy
...
\textcolor{comment}{## Allow multilib:}
[multilib]
Include = /etc/pacman.d/mirrorlist
...
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Pacman}
\begin{itemize}
    \item \textbf{Packages:}
\newline \underline{\href{https://archlinux.org/packages/}{https://archlinux.org/packages/}}
\end{itemize}
\subsection{Update PKG}
\begin{itemize}
    \item \textbf{Update system:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{pacman} -Syu
\end{Verbatim}
    \item \textbf{Update system and do not use cache if used few minutes ago:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{pacman} -Syyu
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{List PKGs}
\begin{itemize}
    \item \textbf{List all installed PKGs:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{pacman} -Q[q]
\end{Verbatim}
    \item \textbf{List specifically installed PKGs:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{pacman} -Qe[q]
\end{Verbatim}
    \item \textbf{List unneeded dependencie PKGs:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{pacman} -Qdt[q]
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Search PKG}
\begin{itemize}
    \item \textbf{Search packages that contains word in title/description:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{pacman} -Ss[q] <WORD>
\end{Verbatim}
    \item \textbf{Search installed packages that contains word in title/description:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{pacman} -Qs[q] <WORD>
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Install PKG}
\begin{itemize}
    \item \textbf{Install specific package:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} [--need] -S <PKG> [PKG2]
\end{Verbatim}
    \item \textbf{Install specific package from different repository:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} [--need] -S <REPO>/<PKG>
\end{Verbatim}
    \item \textbf{Install packages matching regex:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} [--need] -S \$(pacman -Ssq "<REGEX>")
\end{Verbatim}
    \item \textbf{Install packages with similar pattern:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} [--need] -S <plasma-\{desktop,nm\}>
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Remove PKG}
\begin{itemize}
    \item \textbf{Remove specific package:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -R <PKG>
\end{Verbatim}
    \item \textbf{Remove specific package with it's dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -Rs <PKG>
\end{Verbatim}
    \item \textbf{Remove specific package with it's dependencies and system config files (not dotfiles):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -Rns <PKG>
\end{Verbatim}
    \item \textbf{Remove old versions of installed packages:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -Sc[c]
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{PKG Licenses}
\begin{enumerate}
    \item \textbf{Install package:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S expac
\end{Verbatim}
    \item \textbf{Query package to see its license:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{expac} [-Ss|-Qs] '\% - \%n' <REGEX>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{AUR}
\underline{\href{https://aur.archlinux.org/}{https://aur.archlinux.org/}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Manual Installation:}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Setting up}
\begin{enumerate}
    \item \textbf{Install:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S base-devel git
\end{Verbatim}
    \item \textbf{Change compilation variables:}
\newline File (\textcolor{file}{/etc/makepkg.conf}):
\begin{Verbatim}[commandchars=\\\{\}]
...
MAKEFLAGS="-j\$(nproc)"
...
\end{Verbatim}
    \item \textbf{Create directory for AUR packages:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mkdir} <\textcolor{dir}{/etc/AUR/}>
\end{Verbatim}
    \item \textbf{Transfer directory ownership:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{chown} -R :doas <\textcolor{dir}{/etc/AUR/}>
\end{Verbatim}
    \item \textbf{Make directory writable for \textit{doas} group:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{chmod} -R 0775 <\textcolor{dir}{/etc/AUR/}>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Install package}
\label{aur_install}
\begin{enumerate}
    \item \textbf{Find package in AUR repository:}
\newline \underline{\href{https://aur.archlinux.org/}{https://aur.archlinux.org/}}
    \item \textbf{Navigate to \textit{AUR} directory:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{cd} <\textcolor{dir}{/etc/AUR/}>
\end{Verbatim}
    \item \textbf{Clone AUR package:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{git} clone <\underline{\href{https://aur.archlinux.org/bvi.git}{https://aur.archlinux.org/bvi.git}}>
\end{Verbatim}
    \item \textbf{Go to cloned directory:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{cd} <\textcolor{dir}{./bvi/}>
\end{Verbatim}
    \item \textbf{Check AUR package content:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{less} \textcolor{file}{./PKGBUILD}
\end{Verbatim}
    \item \textbf{Compile package:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{makepkg} -si
\end{Verbatim}
    \item \textbf{If there was GPG key fault:}
    \begin{enumerate}
        \item \textbf{Import key:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{gpg} --recv-keys <KEY>
\end{Verbatim}
        \item \textbf{Compile again:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{makepkg} -si
\end{Verbatim}
    \end{enumerate}
\end{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% GRUB %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{GRUB}
\section{Docs}
\begin{itemize}
    \item \underline{\href{https://www.gnu.org/software/grub/manual/grub/html_node/Simple-configuration.html}{GRUB simple config doc}}
    \item \underline{\href{https://github.com/torvalds/linux/blob/master/Documentation/admin-guide/kernel-parameters.txt}{Linux kernel parameters}}
\end{itemize}
\section{Configuration}
\begin{enumerate}
    \item \textbf{Basic GRUB settings:}
\newline File (\textbf{\textcolor{file}{/etc/default/grub}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{#########################}
\textcolor{comment}{##  GRUB MENU ENTRIES  ##}
\textcolor{comment}{#########################}
\textcolor{comment}{## GRUB menu timeout (-1 = infinite, 0 = skipped):}
GRUB_TIMEOUT=1
\textcolor{comment}{## Show menu (\textit{hidden} and \textit{countdown} waits with hidden menu):}
GRUB_TIMEOUT_STYLE=menu
\textcolor{comment}{## GRUB menu default option (0 = 1st option):}
GRUB_DEFAULT=0
\textcolor{comment}{## Disable submenus and instead show all options on main menu:}
GRUB_DISABLE_SUBMENU=y
\textcolor{comment}{## Disable recovery mode entry in GRUB menu:}
GRUB_DISABLE_RECOVERY="true"
\textcolor{comment}{## Show Menu only when Shift key is held down during GRUB's start-up,}
\textcolor{comment}{## requires executable file /etc/grub.d/31_hold_shift:}
GRUB_FORCE_HIDDEN_MENU="true"

\textcolor{comment}{#########################}
\textcolor{comment}{##     ENCRYPTION      ##}
\textcolor{comment}{#########################}
\textcolor{comment}{## Decrypt root partition on LVM + use key used for /boot decrypt:}
GRUB_CMDLINE_LINUX="cryptdevice=UUID=<LUKS_UUID>:<luks_lvm> \char92
root=</dev/vg0/root> cryptkey=rootfs:</root/.luks/key>"
\textcolor{comment}{## Enable encrypted GRUB (/boot partition):}
GRUB_ENABLE_CRYPTODISK=y
\textcolor{comment}{## Preload both GPT and MBR modules,}
\textcolor{comment}{## (prompt for password may not be shown without this):}
GRUB_PRELOAD_MODULES="part_gpt part_msdos"

\textcolor{comment}{#########################}
\textcolor{comment}{##        OTHER        ##}
\textcolor{comment}{#########################}
\textcolor{comment}{## GRUB distributor:}
GRUB_DISTRIBUTOR="Arch"
\textcolor{comment}{## Disable most log messages;}
\textcolor{comment}{## Print only messages with smaller loglevel then specified;}
\textcolor{comment}{## default ethX and wlanX names:}
GRUB_CMDLINE_LINUX_DEFAULT="quiet loglevel=3 net.ifnames=0"

\textcolor{comment}{#########################}
\textcolor{comment}{##       VISUAL        ##}
\textcolor{comment}{#########################}
\textcolor{comment}{## GRUB font (.pf2),}
\textcolor{comment}{## find available fonts with \$(pacman -Ql grub | grep pf2):}
GRUB_FONT="</usr/share/grub/unicode.pf2>"
\textcolor{comment}{## GRUB menu colors (FOREGROUND/BACKGROUND)"}
GRUB_COLOR_NORMAL="blue/black"
GRUB_COLOR_HIGHLIGHT="black/blue"
\textcolor{comment}{## Use graphics framebuffer in GRUB;}
\textcolor{comment}{## keep = pass framebuffer to kernel (TTY resolution);}
\textcolor{comment}{## text = use if there are problems:}
GRUB_GFXPAYLOAD_LINUX=keep
\textcolor{comment}{## Select resolution:}
GRUB_GFXMODE=1920x1080x32
\textcolor{comment}{## Select image as a background:}
#GRUB_BACKGROUND="\textcolor{file}{/boot/grub/<IMAGE.png>}"
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Menu Colors}
\begin{center}
    \begin{small}
    \begin{tabular}{|p{4cm}|p{4cm}|}
    \hline
    \textbf{Color BG} & \textbf{Color BG + FG} \\
    \hline
    black & X \\
    \hline
    blue & light-blue \\
    \hline
    green & light-green \\
    \hline
    cyan & light-cyan \\
    \hline
    red & light-red \\
    \hline
    magenta & light-magenta \\
    \hline
    brown & yellow \\
    \hline
    light-gray & dark-gray  \\
    \hline
    \end{tabular}
    \end{small}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Update GRUB}
\label{GRUB}
\begin{enumerate}
    \item \textbf{Update GRUB:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{grub-mkconfig} -o \textcolor{file}{/boot/grub/grub.cfg}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Local Settings %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Local Settings}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Hostname and DNSDomainname}
\begin{enumerate}
    \item \textbf{Display hostname and dnsdomainname:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{hostname}
\textcolor{user}{user\$} \textcolor{command}{dnsdomainname}
\end{Verbatim}
    \item \textbf{Change hostname:}
\newline File (\textbf{\textcolor{file}{/etc/hostname}}):
\begin{Verbatim}[commandchars=\\\{\}]
<HOSTNAME>
\end{Verbatim}
File (\textbf{\textcolor{file}{/etc/hosts}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
\textcolor{comment}{## IPv4 localhost:}
127.0.0.1   localhost
127.0.1.1   <HOSTNAME>
#127.0.0.1  <HOSTNAME>.<DOMAIN-NAME> <HOSTNAME>
\textcolor{comment}{## IPv6 localhost:}
::1   localhost6
::1   <HOSTNAME>
#::1  <HOSTNAME>.<DOMAIN-NAME> <HOSTNAME>
...
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Time and Date}
\begin{enumerate}
    \item \textbf{Show current timezone:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{timedatectl} -a
\end{Verbatim}
    \item \textbf{List available timezones:}
    \newline Dir: (\textcolor{dir}{/usr/share/zoneinfo/}).
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{timedatectl} list-timezones
\end{Verbatim}
    \item \textbf{Change timezone:}
    \begin{itemize}
        \item \textbf{Timedatectl way:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{timedatectl} set-timezone <UTC|Europe/Copenhagen>
\end{Verbatim}
        \item \textbf{Arch way:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{ln} -sf <\textcolor{file}{/usr/share/zoneinfo/Europe/Copenhagen}>
\textcolor{file}{/etc/localtime}
\end{Verbatim}
    \end{itemize}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Locales and Keyboard}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Locales}
    \begin{enumerate}
        \item \textbf{View locales:}
        \begin{itemize}
            \item \textbf{View locales:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{localectl}
\end{Verbatim}
            \item \textbf{View generated locales:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{localectl} list-locales
\end{Verbatim}
        \end{itemize}

        \item \textbf{Generate locales to be used (uncomment them):}
\newline File (\textbf{\textcolor{file}{/etc/locale.gen}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
en_US.UTF-8 UTF-8
en_US ISO-8859-1
...
\end{Verbatim}
        \item \textbf{Generate locales:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{locale-gen}
\end{Verbatim}
        \item \textbf{Set locale:}
\newline File (\textbf{\textcolor{file}{/etc/locale.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
LANG=en_US.UTF-8
\textcolor{comment}{## First day in a week MON, not SUN:}
#LC_TIME="en_GB.UTF-8"
\textcolor{comment}{## Default paper size:}
#LC_PAPER="en_GB.UTF-8"
#LC_MEASUREMENT="en_GB.UTF-8"
\end{Verbatim}
        \item \textbf{OPTIONAL: export environment variable:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{export} LANG=en_US.UTF-8
\end{Verbatim}
    \end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{CLI Keyboard}
\begin{itemize}
    \item \textbf{Language:}
    \begin{enumerate}
        \item \textbf{See available keyboards:}
\newline Dir (\textbf{\textcolor{dir}{/usr/share/kbd/keymaps/[i386/]}}).
        \item \textbf{Show current keyboard:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{localectl}
\end{Verbatim}

        \item \textbf{Set keyboard:}
\newline File (\textbf{\textcolor{file}{/etc/vconsole.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
KEYMAP=us
\end{Verbatim}
    \end{enumerate}

    \item \textbf{Font:}
    \begin{enumerate}
        \item \textbf{Show look of the font:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{showconsolefont}
\end{Verbatim}
        \item \textbf{Set font:}
        \begin{itemize}
            \item \textbf{Temporary:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{setfont} <lat2-16>
\end{Verbatim}
            \item \textbf{Permanently:}
\newline File (\textbf{\textcolor{file}{/etc/vconsole.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
FONT=lat2-16
\end{Verbatim}
        \end{itemize}
    \end{enumerate}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Network %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Network}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Rename Interface}
\begin{enumerate}
    \item \textbf{Find interface name in the system:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{udevadm} info \textcolor{dir}{/sys/class/net/<INTERFACE>}
\end{Verbatim}
\end{enumerate}

\begin{itemize}
    \item \textbf{Manually rename interfaces:}
\newline File: (\textcolor{file}{\textbf{/etc/udev/rules.d/70-persistent-net.rules}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## ethernet (rename enp1s0 to eth0):}
#SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", \char092
#ENV\{ID_NET_NAME_PATH\}="<enp1s0>", \char092
#ATTR\{type\}=="1", KERNEL=="eth*", NAME="<eth0>"
\textcolor{comment}{## wireless (rename wlp0s20f3 to wlan0):}
#SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", \char092
#ENV\{ID_NET_NAME_PATH\}=="<wlp0s20f3>", \char092
#ATTR\{type\}=="1", KERNEL=="wlan*", NAME="<wlan0>"
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Rfkill}
\begin{enumerate}
    \item \textbf{Block every RF device:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{rfkill} block all
\end{Verbatim}
    \item \textbf{Unblock WiFi:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{rfkill} unblock wlan
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Interfaces}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Ethernet}
\begin{enumerate}
    \item \textbf{Install:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{pacman} -S ethtool
\end{Verbatim}
    \item \textbf{Check carrier speed:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{ethtool} <eth0>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Wireless}
\begin{enumerate}
    \item \textbf{Install:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S wpa_supplicant iw wireless_tools
\end{Verbatim}
    \item \textbf{Do not run wpa\_supplciant service at start:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} disable wpa_supplicant.service
\end{Verbatim}
    \item \textbf{Scan for SSIDs:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{iwlist} <wlan0> scan [| \textcolor{command}{grep} -i ssid]
\end{Verbatim}

    \item \textbf{WiFi config:}
\newline File (\textbf{\textcolor{file}{/etc/wpa\_supplicant/wpa\_supplicant.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## Basic settings and language for zones:}
ctrl_interface=/run/wpa_supplicant
update_config=1
country=<2-LETTER-ISO-CODE>

\textcolor{comment}{## WPA-PSK protected:}
network=\{
    ssid="<ESSID>"
    scan_ssid=1 \textcolor{comment}{# Find hidden network}
    key_mgmt=WPA-PSK
    psk="<PLAINTEXT-PASSWD>"
    \textcolor{comment}{#psk=<32byte-HEX-NUMBER>}
    priority=1 \textcolor{comment}{# To which WiFi connect first}
\}

\textcolor{comment}{## WPA-EAP protected::}
network=\{
        ssid="<ESSID>"
        scan_ssid=1 \textcolor{comment}{# Find hidden network}
        key_mgmt=WPA-EAP
        \textcolor{comment}{#eap=PEAP}
        identity="<USERNAME>@<DOMAIN>"
        password="<PLAINTEXT-PASSWD>"
        \textcolor{comment}{#psk=<32byte-HEX-NUMBER>}
        \textcolor{comment}{#ca_cert="/etc/cert/ca.pem"}
        \textcolor{comment}{#phase1="peaplabel=0"}
        phase2="auth=MSCHAPV2"
        priority=2 \textcolor{comment}{# To which WiFi connect first}
\}

\textcolor{comment}{## Unprotected:}
network=\{
    ssid="<ESSID>"
    scan_ssid=1 \textcolor{comment}{# Find hidden network}
    key_mgmt=NONE
    priority=3 \textcolor{comment}{# To which WiFi connect first}
\}
\end{Verbatim}

    \item \textbf{Change WiFi file permissions:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{chmod} 0600 <\textcolor{file}{/etc/wpa_supplicant/wpa_supplicant.conf}>
\end{Verbatim}

    \item \textbf{Connect to WiFi:}
    \begin{enumerate}
        \item \textbf{Bring everything down for restart:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{dhcpcd} --release <wlan0>
\textcolor{root}{root#} \textcolor{command}{ip} a flush <wlan0>
\textcolor{root}{root#} \textcolor{command}{ip} l set <wlan0> down
\end{Verbatim}
    \item \textbf{Start WiFi:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{rfkill} unblock wlan
[\textcolor{root}{root#} \textcolor{command}{macchanger} -A <wlan0>]
\textcolor{root}{root#} \textcolor{command}{rm} -rf \textcolor{file}{/var/lib/dhcpcd/*}
\textcolor{root}{root#} \textcolor{command}{rm -f} \textcolor{file}{/run/wpa_supplicant/<wlan0>}
#\textcolor{root}{root#} \textcolor{command}{killall} -9 wpa_supplicant
\textcolor{root}{root#} \textcolor{command}{ps} -ef | \textcolor{command}{grep} "wpa_supplicant" | \textcolor{command}{grep} "<wlan0>" |
\textcolor{command}{tr} -s ' ' | \textcolor{command}{cut} -d ' ' -f 2 | \textcolor{command}{xargs} kill -9
\textcolor{root}{root#} \textcolor{command}{ip} l set <wlan0> up
\textcolor{root}{root#} \textcolor{command}{systemctl} start wpa_supplicant.service
\textcolor{root}{root#} \textcolor{command}{systemctl} start dhcpcd.service
\textcolor{root}{root#} \textcolor{command}{wpa_supplicant} -B -D wext -i <wlan0>
-c <\textcolor{file}{/etc/wpa_supplicant/wpa_supplicant.conf}>
\textcolor{root}{root#} \textcolor{command}{dhcpcd} <wlan0>
\end{Verbatim}
    \end{enumerate}

    \item \textbf{Check WiFi stats:}
    \begin{itemize}
        \item \textbf{Check state (and if connected WiFi interface:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{iw} dev
\end{Verbatim}
        \item \textbf{Check carrier speed:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{iwlist} <wlan0> bitrate
\end{Verbatim}
    \end{itemize}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{DHCP client}
\begin{enumerate}
    \item \textbf{Install:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S dhcpcd
\end{Verbatim}
    \item \textbf{Do not run dhcpcd service at start:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} disable dhcpcd.service
\end{Verbatim}
    \item \textbf{Configure DHCP client:}
File (\textbf{\textcolor{file}{/etc/dhcpcd.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{#################}
\textcolor{comment}{### Anonymity ###}
\textcolor{comment}{#################}
\textcolor{comment}{## Send FQDN hostname to the DHCP server so it can be registered in DNS:}
#hostname
\textcolor{comment}{## Send only hostname to the DHCP server:}
#hostname_short
\textcolor{comment}{## Do not send DHCP option 60 (Vendor class id) in default format:}
\textcolor{comment}{## dhcpcd-<version>:<os>:<machine>:<platform>}
\textcolor{comment}{## (e.g. dhcpcd-5.5.6:NetBSD-6.99.5:i386:i386)}
\textcolor{comment}{## Send empty vendorclassid (or not at all):}
vendorclassid ""

\textcolor{comment}{#################}
\textcolor{comment}{### IPv4/IPv6 ###}
\textcolor{comment}{#################}
\textcolor{comment}{## Don't attempt to obtain IPv4:}
#noipv4
\textcolor{comment}{## Don't attempt to obtain IPv4LL}
noipv4ll
\textcolor{comment}{## Don't attempt to obtain IPv6:}
#noipv6
\textcolor{comment}{## Don't check if obtained IP address is taken by arp (increases speed):}
noarp

\textcolor{comment}{#####################}
\textcolor{comment}{### IPv4 settings ###}
\textcolor{comment}{#####################}
\textcolor{comment}{## Use MAC address in format xx:xx:xx and then is encoded as hex}
\textcolor{comment}{## for interfaces whose MAC > 8 butes, clientid = "", and dhcpcd sends}
\textcolor{comment}{## default clientid of HW family and HW address:}
#clientid
\textcolor{comment}{## OR use DHCP Unique Identifier (DUID):}
#duid
\textcolor{comment}{## Remove any pre-existing IPv4 addresses when adding IPv4 address:}
noalias

\textcolor{comment}{#####################}
\textcolor{comment}{### IPv6 settings ###}
\textcolor{comment}{#####################}
\textcolor{comment}{## Use MAC address when generating SLAAC address for the interface:}
slaac hwaddr
\textcolor{comment}{## OR generate Stable Private IPv6 Address based from the DUID:}
#slaac private

\textcolor{comment}{#######################}
\textcolor{comment}{### Default Gateway ###}
\textcolor{comment}{#######################}
\textcolor{comment}{## Request default gateway (default):}
gateway
\textcolor{comment}{## Don't obtain default gateway:}
#nogateway

\textcolor{comment}{###########}
\textcolor{comment}{### DNS ###}
\textcolor{comment}{###########}
\textcolor{comment}{## https://linux.die.net/man/5/dhcpd-options}
\textcolor{comment}{## Request DNS servers from a server:}
#option domain_name_servers
\textcolor{comment}{## Request domain-name for current network:}
option domain_name
\textcolor{comment}{## Do not write to /etc/resolv.conf:}
nohook resolv.conf

\textcolor{comment}{################}
\textcolor{comment}{### Required ###}
\textcolor{comment}{################}
\textcolor{comment}{## A ServerID is required by RFC2131.}
require dhcp_server_identifier
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{DNS}
\begin{enumerate}
    \item \textbf{Configure DNS server list:}
\newline File: (\textbf{\textcolor{file}{/etc/resolv.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## Uncensored DNS - Denmark - Unicast:}
#nameserver 89.233.43.71
\textcolor{comment}{## CZ.NIC:}
#nameserver 193.17.47.1
#nameserver 185.43.135.1
\textcolor{comment}{## Quad9:}
#nameserver 1.1.1.1
#nameserver 1.0.0.1
\end{Verbatim}
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{NTP}
\textbf{Not needed!}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Texteditor and Shell %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Texteditor and Shell}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Texteditor}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Vim}
\begin{enumerate}
    \item \textbf{Install:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S vim
\end{Verbatim}
    \item \textbf{Replace vi:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{ln} -sf <\textcolor{file}{/usr/bin/vim}> <\textcolor{file}{/usr/bin/vi}>
\end{Verbatim}
    \item \textbf{Set vim as default editor:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{export} EDITOR=vim
\end{Verbatim}
    \item \textbf{Configure vim:}
\newline File (\textbf{\textcolor{file}{\~/.vimrc}}):
\newline See (\underline{\href{https://github.com/AISK11/ArchLinux/blob/main/dotfiles/.vimrc}{https://github.com/AISK11/ArchLinux/blob/main/dotfiles/.vimrc}})
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Bvi}
\begin{enumerate}
    \item \textbf{Install:}
    \begin{itemize}
        \item \textbf{Link:} \underline{\href{https://aur.archlinux.org/packages/bvi/}{https://aur.archlinux.org/packages/bvi/}}
        \item \textbf{See \underline{\ref{aur_install}}.}
    \end{itemize}
    \item \textbf{Configure:}
\newline File (\textbf{\textcolor{file}{\~/.bvirc}}):
\newline See (\underline{\href{https://github.com/AISK11/ArchLinux/blob/main/dotfiles/.bvirc}{https://github.com/AISK11/ArchLinux/blob/main/dotfiles/.bvirc}})
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Zsh}
\begin{enumerate}
    \item \textbf{Install:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S zsh zsh-syntax-highlighting
zsh-autosuggestions [zsh-completions]
\end{Verbatim}
    \item \textbf{Configure:}
\newline File (\textbf{\textcolor{file}{\~/.zshrc}}):
\newline See \underline{\href{https://github.com/AISK11/ArchLinux/blob/main/dotfiles/.zshrc}{https://github.com/AISK11/ArchLinux/blob/main/dotfiles/.zshrc}}
    \item \textbf{Set ZSH as default shell:}
    \begin{itemize}
        \item \textbf{User change:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{chsh} -s \textcolor{file}{/bin/zsh}
\end{Verbatim}
        \item \textbf{Root change:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{usermod} -s \textcolor{file}{/bin/zsh} <USER>
\end{Verbatim}
    \end{itemize}
\end{enumerate}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% X %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Xorg WIP}
\underline{\url{https://wiki.archlinux.org/title/Hardware_video_acceleration}}
\underline{\url{https://wiki.archlinux.org/title/Intel_graphics}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Drivers}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Detect devices:}
\begin{itemize}
    \item \textbf{Find GPUs:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{lspci} -v | \textcolor{command}{grep} -A 1 "VGA"
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Intel}
    \begin{itemize}
        \item \textbf{Open source:}
\begin{itemize}
        \item \textbf{Intel GPU (open-source):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S xf86-video-intel
\end{Verbatim}
        \item \textbf{OpenGL support:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S mesa [lib32-mesa]
\end{Verbatim}
        \item \textbf{Vulkan support:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S vulkan-icd-loader lib32-vulkan-icd-loader
vulkan-intel [lib32-vulkan-intel]
\end{Verbatim}
    \end{itemize}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Nvidia}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{AMD/ATI}
Cannot test at the the time.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% i3-gaps %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{i3-gaps}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% i3 programs %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{i3 programs}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Power Management %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Power Management}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Audio %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Audio}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% System Hardening %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{System Hardening}
\underline{\url{https://wiki.archlinux.org/title/Security}}
\begin{itemize}
    \item \textbf{Hardened kernel}
    \item \textbf{SELinux}
    \item \textbf{USB Guard}
    \item \textbf{DNS over HTTPS}
    \item \textbf{no MOTD}
    \item \textbf{Black Arch repo}
    \item \textbf{Firewall}
    \item \textbf{Proxy}
    \item \textbf{Honeypot}
    \item \textbf{System logging + monitoring}
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Software %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Software}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Help}
\begin{itemize}
    \item \textbf{Manuals:}
    \begin{enumerate}
        \item \textbf{Install:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S man-db man-pages
\end{Verbatim}
    \end{enumerate}

    \item \textbf{TLDR:}
    \begin{enumerate}
        \item \textbf{Install:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} [\textcolor{command}{yes} |] \textcolor{command}{pacman} -S tldr
\end{Verbatim}
        \item \textbf{Update it's cache:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{tldr} -u
\end{Verbatim}
    \end{enumerate}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Atom}
\subsection{Install packages}
apm install (use ctrl + shift + m)
\url{https://atom.io/packages/custom-folds}
\newline apm install atom-html-preview (use ctrl + shift + h)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% System Maintenance %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{System Maintenance}
\underline{\href{https://wiki.archlinux.org/title/System\_maintenance}{https://wiki.archlinux.org/title/System\_maintenance}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Things to consider in the future %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Things to consider in the future}
\begin{itemize}
    \item \textbf{Init system:} SystemD -> runit/OpenRC
    \item \textbf{X11 implementation:} Xorg -> Wayland
    \item \textbf{GPU driver:} Nvidia -> Nouveau
    \item \textbf{Virtualization:} use XEN
    \item \textbf{UEFI entries}
\begin{Verbatim}[commandchars=\\\{\}]
efibootmgr --create --disk /dev/sda --part 1 --label test
--loader /EFI/opensuse/grubx64.efi
\end{Verbatim}


        \item \textbf{Configure DNS server list:}
\newline File: (\textbf{\textcolor{file}{/etc/resolv.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## Uncensored DNS - Denmark - Unicast}
#nameserver 89.233.43.71
\textcolor{comment}{## CZ.NIC}
#nameserver 193.17.47.1
#nameserver 185.43.135.1
\textcolor{comment}{## Quad9}
#nameserver 1.1.1.1
#nameserver 1.0.0.1

\textcolor{comment}{## Use unbound as DNS resolver:}
nameserver 127.0.0.1
nameserver ::1
\textcolor{comment}{## See https://man7.org/linux/man-pages/man5/resolv.conf.5.html}
options trust-ad
\end{Verbatim}

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% References %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{References}
\section{Misc}
\begin{itemize}
    \item \textbf{Color palettes:}
\newline \underline{\href{https://designs.ai/colors/color-wheel}{https://designs.ai/colors/color-wheel}}
\end{itemize}


\begin{itemize}
    \item \textbf{System Maintenance:}
\newline \underline{\href{https://wiki.archlinux.org/title/System\_maintenance}{https://wiki.archlinux.org/title/System\_maintenance}}
    \item \textbf{App list:}
\newline \underline{\href{https://wiki.archlinux.org/title/List\_of\_applications}{https://wiki.archlinux.org/title/List\_of\_applications}}

    \item \textbf{Boot Procedure:}
\newline \underline{\href{https://wiki.archlinux.org/title/Arch\_boot\_process}{https://wiki.archlinux.org/title/Arch\_boot\_process}}
    \item \textbf{Partition Optimal:}
\newline \underline{\href{https://rainbow.chard.org/2013/01/30/how-to-align-partitions-for-best-performance-using-parted/}{Partitioning}}
    \item \textbf{Booted from UEFI:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{ls /sys/firmware/efi/efivars}
bootctl status
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\href{https://wiki.archlinux.org/title/General_recommendations}{WIKI}



\end{document}
